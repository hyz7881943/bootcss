<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8' />
    <meta http-equiv="X-UA-Compatible" content="chrome=1" />
    <meta name="description" content="Messenger : 非常酷的弹框组件" />

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">
    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/location-sel.css">
    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/theme-sel.css">
    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/demo.css">
    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/bootstrap/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" media="screen" href="build/css/messenger.css">
    <link rel="stylesheet" type="text/css" media="screen" href="build/css/messenger-theme-block.css">
    <link rel="stylesheet" type="text/css" media="screen" href="build/css/messenger-theme-future.css">
    <link rel="stylesheet" type="text/css" media="screen" href="build/css/messenger-theme-air.css">
    <link rel="stylesheet" type="text/css" media="screen" href="build/css/messenger-theme-ice.css">
    <link rel="stylesheet" type="text/css" media="screen" href="http://github.hubspot.com/messenger/lib/executr/build/css/executr.css">
    <link rel="stylesheet" type="text/css" media="screen" href="http://github.hubspot.com/messenger/lib/executr/lib/CodeMirror/codemirror.css">

    <script type="text/javascript" src="http://cdnjs.bootcss.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
    <script type="text/javascript" src="http://cdnjs.bootcss.com/ajax/libs/underscore.js/1.4.4/underscore-min.js"></script>
    <script type="text/javascript" src="http://cdnjs.bootcss.com/ajax/libs/backbone.js/1.0.0//backbone-min.js"></script>
    <script type="text/javascript" src="http://cdnjs.bootcss.com/ajax/libs/twitter-bootstrap/2.2.2/bootstrap.min.js"></script>
    <script type="text/javascript" src="build/js/messenger.js"></script>

    <script type="text/javascript" src="javascripts/location-sel.js"></script>
    <script type="text/javascript" src="javascripts/theme-sel.js"></script>
    <script type="text/javascript" src="javascripts/demo.js"></script>

    <script type="text/javascript" src="http://github.hubspot.com/messenger/lib/executr/lib/CodeMirror/codemirror.js"></script>
    <script type="text/javascript" src="http://github.hubspot.com/messenger/lib/executr/lib/CodeMirror/mode/coffeescript/coffeescript.js"></script>
    <script type="text/javascript" src="http://github.hubspot.com/messenger/lib/executr/lib/CodeMirror/mode/javascript/javascript.js"></script>
    <script type="text/javascript" src="http://github.hubspot.com/messenger/lib/executr/build/js/executr.js"></script>
    <script type="text/javascript" src="http://github.hubspot.com/messenger/lib/executr/lib/coffee-script.js"></script>

    <script type="text/javascript">
      $(function(){
          $('body').executr();
      });
    </script>

    <title>Messenger - 非常酷的弹框组件</title>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/HubSpot/messenger">View on GitHub</a>

          <div class="social">
            
          </div>

          <h1 id="project_title">Messenger</h1>
          <h2 id="project_tagline">非常酷的弹框组件</h2>

            <section id="downloads">
              <a class="zip_download_link" href="https://github.com/HubSpot/messenger/zipball/master">下载 .zip 文件</a>
              <a class="tar_download_link" href="https://github.com/HubSpot/messenger/tarball/master">下载 tar.gz 文件</a>
            </section>
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <h1>HubSpot 弹框组件库</h1>

        <ul><li>展示业务过程中的提示消息<li>支持AJAX请求，并且支持进度、成功或错误提示<li>在所展示消息内还可加入指向动作的链接<li>压缩之后仅有 2.5kb </ul>

<h2>依赖</h2>

<ul>
<li>jQuery</li>
<li>Backbone.js</li>
<li>可以和Bootstrap完美融合，但Bootstrap并不是必须的</ul>

<h2>包含</h2>

<h3>JS文件</h3>

<pre><code>/build/js/messenger.min.js
</code></pre>

<h3>CSS文件</h3>

<pre><code>/build/css/messenger.css
/build/css/messenger-theme-future.css
</code></pre>

<h2>案例展示</h2>
<pre>
<code executable>
# Replace:
$.ajax
    url: "/some-url"
    success: ->

# With:
$.globalMessenger().do
    errorMessage: "This did not go well."
,
    url: "/some-url"
    success: ->
</code>
</pre>
<h2>使用手册 <span class="subtitle">下面的代码都是可编辑的</span></h2>
<div class='controls'>
  <div>
    <h4>改变弹框方位</h4>
    <div class='location-selector'></div>
  </div>
  <div>
    <h4>改变弹框主题</h4>
    <ul class='theme-selector'></ul>
  </div>
  <div>
    <h4>改变编码语言</h4>
    <ul class='selector'>
      <li class="executr-switch" data-code-type="javascript"/>JavaScript</li>
      <li class="executr-switch" data-code-type="coffeescript"/>CoffeeScript</li>
    </ul>
  </div>
  <hr class="clear"></hr>
  <pre><code><output></output></code></pre>
</div>
<pre>
<code executable>
$.globalMessenger().post "Your request has succeded!"
</code><code executable>
$.globalMessenger().post
    message: 'There was an explosion while processing your request.'
    type: 'error'
    showCloseButton: true
</code><code executable>
msg = $.globalMessenger().post "My Message"
msg.update "I changed my mind, this is my message"
msg.hide()
</code><code executable>
# Want to put actions at the end of your messages?
msg = $.globalMessenger().post
    message: 'Launching thermonuclear war...'
    type: 'info'
    actions:
        cancel:
            label: 'cancel launch'
            action: ->
                msg.update
                    message: 'Thermonuclear war averted'
                    type: 'success'
                    actions: false
</code><code executable>
# This guy will 500 a few times, then succeed
i = 0
$.globalMessenger().do
  errorMessage: 'Error destroying alien planet'
  successMessage: 'Alien planet destroyed!'

  action: (opts) ->
    if (++i < 3)
      opts.error({status: 500, readyState: 0, responseText: 0})
    else
      opts.success()

</code><code executable>
# Have an error? How about auto retrys with a Gmail-style countdown
# (hidden in the future theme)?:
msg = $.globalMessenger().post
    message: "I'm sorry Hal, I just can't do that."
    actions:
        retry:
            label: 'retry now'
            phrase: 'Retrying TIME'
            auto: true
            delay: 10
            action: ->
                # Do some retrying...

        cancel:
            action: ->
                do msg.cancel
</code><code executable>
# You can bind to action events as well:
msg.on 'action:retry', ->
    alert('Hey, you retried!')
</code><code executable>
# Need more control? You can bind events backbone-style based
# on the type of message.
msg.update
    events:
        'success click': ->
            # Will fire when the user clicks the message
            # in a success state.

        'error click a.awesome-class': ->
            # Rock on
</code><code executable>
# Need your message to hide after a while, or when the Backbone
# router changes the page?
$.globalMessenger().post
    message: "Weeeeee"

    hideAfter: 10
    hideOnNavigate: true
</code><code executable>
# You can use the id property to ensure that only one
# instance of a message will appear on the page at a time
# (the older message will be hidden).
$.globalMessenger().post
  message: "Only one at a time!"
  id: "Only-one-message"
</code><code executable>
# When you add the singleton attribute, it ensures that no
# other messages with that id will ever be shown again
# (the newer message will be hidden).
$.globalMessenger().post
  message: "It's just me!"
  id: '4'
  singleton: true

$.globalMessenger().post
  message: "You'll never see me"
  id: '4'
  singleton: true
</code><code executable>
# Rather than hiding and showing multiple messages
# you can also maintain a single message between
# requests.
msg = $.globalMessenger().do()
$.globalMessenger().do({messageInstance: msg})
</code><code executable>
# Don't want your message hidden on a long page? (Not necessary
# if you're using the default fixed positioning)
msg = $.globalMessenger().post
    message: "You'll see me!"

    scrollTo: true
    # Requires jQuery scrollTo plugin
</code><code executable>
msg.scrollTo() # also works
</code><code executable>
# Lazy/smart? How about messenger does it all for you?  All the
# retry magic comes with.
$.globalMessenger().do
    successMessage: 'Data saved.'
    errorMessage: 'Error saving data'
    progressMessage: 'Saving data' # Don't include messages you
                                   # don't want to appear.

    # Any standard message opts can go here
,
    # All the standard jQuery ajax options here

    url: '/data'
</code><code executable>
# Need to override the messages based on the response?
$.globalMessenger().do
    errorMessage: 'Oops'
,
    url: '/data'
    error: (xhr) ->
        # Whatever you return from your handlers will replace
        # the default messages

        if xhr?.status is 404
            return "Data not found"

        # Return true or undefined for your predefined message
        # Return false to not show any message

        return true
</code><code executable>
# Sometimes you only want to show the success message when a
# retry succeeds, not if a retry wasen't required:
$.globalMessenger().do
    successMessage: 'Successfully saved.'
    errorMessage: 'Error saving'

    showSuccessWithoutError: false
,
    url: '/data'
</code><code executable>
# You don't have to use $.ajax as your action, messenger works
# great for any async process:
$.globalMessenger().do
    successMessage: 'Bomb defused successfully'

    action: defuseBomb
    # You can put options for defuseBomb here
    # It will be passed success and error callbacks
</code><code executable>
# Need to hide all messages?
$.globalMessenger().hideAll()
</code><code executable>
# If your action responds with a promise-like thing, its
# methods will be copied onto the message:

$.globalMessenger().do({}, {url: 'a'}).fail(-> alert "Uh oh")
</code><code executable>
# Do you use Backbone? Hook all backbone calls:
$.globalMessenger().hookBackboneAjax()

# By default, there will be no error message (just background
# retries), return an error message from your backbone error handler,
# or add an errorMessage to the messenger opts to set one.
# You can override these options by passing them into
# hookBackboneAjax, or adding a {'messenger': } hash to your
# fetch call.
</code><code executable>
# You don't have to use the global messenger
$('div#message-container').messenger().post "My message"
</code><code executable>
# By default, the global messenger will create an ActionMessenger
# instance fixed to the bottom-right corner of the screen.
</code><code executable>
# You can pass an instance of messenger into globalMessenger
# to override the default position.
myAwesomeMessenger = $('.mess').messenger()
$.globalMessenger({instance: myAwesomeMessenger});

$.globalMessenger() # <-- Will return your messenger
</code><code executable>
$.globalMessenger({'parentLocations': ['.page', 'body']});
# Will try to insert the messenger into the el matching
# .page before inserting it into the page.

# This can be important if you're not using fixed positioning.
</code><code executable>
# All the options for globalMessenger and their defaults:

{
  'parentLocations': ['body'],
  'maxMessages': 9,
  'extraClasses': 'messenger-fixed messenger-on-right messenger-on-bottom messenger-theme-future',
  'instance': undefined,
  'messageDefaults': {
    # Default message options
  }
}
</code><code executable>
# You can also set default options on the $._messengerDefaults object.
$._messengerDefaults = {'extraClasses': 'messenger-fixed messenger-on-left'}
</code>
</pre>

<h1>Contributing</h1>

<p>We welcome contributors!</p>
<p>
The build process requires nodejs and <a href="http://gruntjs.com/getting-started" target="_blank">grunt-cli</a>.
You can build the output files by running <code>grunt</code>.
The automated tests can be run by opening SpecRunner.html in a browser.
</p>
</section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p>Messager 由<a href="http://www.bootcss.com/">Bootstrap中文网</a>翻译整理</p>
        <p class="copyright">
          Messenger maintained by <a href="https://github.com/HubSpot">HubSpot</a>
          -
          <a href="http://dev.hubspot.com/jobs?utm_campaign=os&utm_source=referral">We're Hiring</a>
        </p>
        <p>Published with <a href="http://pages.github.com">GitHub Pages</a></p>
        <p>Documentation powered by <a href="https://github.com/Hubspot/executr">Executr</a></p>
      </footer>
    </div>

 <script  src="/p/projects.js"></script>
  </body>
</html>
